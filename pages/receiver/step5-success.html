<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>GiftBox — Receiver Success (Step 5/5)</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <style>
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        :root {
            --bg: #050816;
            --fg: #f7f7ff;
            --muted: #9ca3af;
            --border: rgba(148,163,184,.35);
            --accent: #6366f1;
            --accent2: #a855f7;
            --success: #22c55e;
            --shadow: 0 18px 45px rgba(15,23,42,.65)
        }

        body {
            font-family: system-ui,-apple-system,Segoe UI,Roboto,sans-serif;
            background: radial-gradient(circle at top,#111827 0,#020617 55%);
            color: var(--fg);
            min-height: 100vh
        }

        a {
            color: inherit;
            text-decoration: none
        }

        .wrap {
            max-width: 1120px;
            margin: 0 auto;
            padding: 18px 20px
        }

        header {
            position: sticky;
            top: 0;
            z-index: 20;
            border-bottom: 1px solid var(--border);
            backdrop-filter: blur(18px);
            background: rgba(2,6,23,.82)
        }

        .nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 14px 0
        }

        .brand {
            display: flex;
            align-items: center;
            gap: 10px
        }

        .logo-mark {
            width: 26px;
            height: 26px;
            border-radius: 10px;
            background: conic-gradient(from 160deg,#6366f1,#ec4899,#f97316,#22c55e,#6366f1);
            box-shadow: 0 0 18px rgba(99,102,241,.55)
        }

        .btn {
            border-radius: 999px;
            border: 1px solid var(--border);
            padding: 8px 14px;
            font-size: 13px;
            background: transparent;
            color: var(--fg);
            cursor: pointer;
            display: inline-flex;
            align-items: center;
            gap: 8px
        }

            .btn:hover {
                background: rgba(15,23,42,.7)
            }

        .btn-primary {
            border: none;
            background: linear-gradient(135deg,var(--accent),var(--accent2));
            box-shadow: 0 10px 30px rgba(79,70,229,.45)
        }

        .shell {
            padding: 26px 0 40px
        }

        .panel {
            border-radius: 22px;
            border: 1px solid var(--border);
            background: radial-gradient(circle at top,rgba(15,23,42,.92),#020617 65%);
            box-shadow: var(--shadow);
            padding: 22px
        }

        .kicker {
            color: var(--muted);
            font-size: 13px;
            margin-bottom: 6px
        }

        h1 {
            font-size: 28px;
            letter-spacing: -.02em;
            margin-bottom: 10px
        }

        .sub {
            color: var(--muted);
            font-size: 14px;
            margin-bottom: 18px;
            max-width: 900px
        }

        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px
        }

        @media(max-width:920px) {
            .grid {
                grid-template-columns: 1fr
            }
        }

        .card {
            border-radius: 18px;
            border: 1px solid rgba(148,163,184,.25);
            background: rgba(2,6,23,.35);
            padding: 18px
        }

        .row {
            display: flex;
            justify-content: space-between;
            gap: 12px;
            padding: 8px 0;
            border-bottom: 1px solid rgba(148,163,184,.14)
        }

            .row:last-child {
                border-bottom: none
            }

        .label {
            color: var(--muted);
            font-size: 12px
        }

        .val {
            font-size: 14px
        }

        .big {
            font-size: 26px;
            font-weight: 800;
            letter-spacing: -.02em
        }

        .tick {
            width: 58px;
            height: 58px;
            border-radius: 18px;
            background: linear-gradient(135deg,#22c55e,#15803d);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 26px;
            margin-bottom: 10px;
            box-shadow: 0 18px 40px rgba(34,197,94,.25)
        }

        .fine {
            color: var(--muted);
            font-size: 12px
        }

        .actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 16px;
            gap: 10px;
            flex-wrap: wrap
        }

        .strip {
            margin-top: 14px;
            border-radius: 14px;
            border: 1px solid rgba(148,163,184,.18);
            background: rgba(15,23,42,.55);
            padding: 12px 14px
        }
    </style>
</head>

<body>
    <header>
        <div class="wrap nav">
            <div class="brand">
                <div class="logo-mark"></div>
                <strong>GiftBox</strong>
            </div>
            <a class="btn" href="recipient-view.html">Back to Receiver Home</a>
        </div>
    </header>

    <main class="wrap shell">
        <section class="panel">
            <div class="kicker">Receiver Step 5/5 — Completed</div>
            <div class="tick">✓</div>
            <h1>Gift accepted — broker processing started</h1>
            <p class="sub">
                GiftBox has submitted your verified acceptance to a <b>SEBI-registered broker</b> (conceptual in MVP).
                The broker will validate demat/KYC and execute the investment.
            </p>

            <div class="grid">
                <div class="card">
                    <h3 style="margin-bottom:10px;">What you will see</h3>
                    <div class="row"><div class="label">Gift amount</div><div class="val big" id="amt">₹—</div></div>
                    <div class="row"><div class="label">From</div><div class="val" id="from">—</div></div>
                    <div class="row"><div class="label">Preferred stock / theme</div><div class="val" id="theme">—</div></div>
                    <div class="row"><div class="label">Status</div><div class="val">Sent to broker for execution</div></div>
                </div>

                <div class="card">
                    <h3 style="margin-bottom:10px;">Next milestones</h3>
                    <div class="row"><div class="val">1) Demat found</div><div class="val">Faster settlement</div></div>
                    <div class="row"><div class="val">2) No demat</div><div class="val">Broker requests KYC</div></div>
                    <div class="row"><div class="val">3) Execution</div><div class="val">Order placed by broker</div></div>
                    <div class="row"><div class="val">4) Settlement</div><div class="val">Asset credited to demat</div></div>

                    <div class="strip">
                        <div class="fine">
                            <b>Execution Assistance (SEBI-aligned)</b><br />
                            GiftBox provides routing & tracking only. Broker executes orders and maintains investor protections.
                        </div>
                    </div>
                </div>
            </div>

            <div class="actions">
                <span class="fine">MVP simulation: status updates are illustrative.</span>
                <a class="btn btn-primary" href="recipient-view.html">Done →</a>
            </div>
        </section>
    </main>

    <script>
        function safe(v, f = "—") { if (v === undefined || v === null) return f; const s = String(v).trim(); return s ? s : f; }
        function getGift() { try { return JSON.parse(localStorage.getItem("giftbox_gift") || "{}"); } catch (e) { return {}; } }
        function formatINR(n) { const num = Number(n); if (!isFinite(num)) return "₹—"; return "₹" + num.toLocaleString("en-IN"); }

        // Guard
        if (localStorage.getItem("giftbox_receiver_verified") !== "true") {
            window.location.href = "step3-verify.html";
        }

        const gift = getGift();
        document.getElementById("amt").textContent = formatINR(gift.amount);
        document.getElementById("from").textContent = "Gift from " + safe(gift.gifterPhone);
        document.getElementById("theme").textContent = safe(gift.theme, "—");
    </script>
</body>
</html>
