<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <title>GiftBox — Claim Gift</title>
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <style>
        *, *::before, *::after {
            box-sizing: border-box;
            margin: 0;
            padding: 0
        }

        :root {
            --fg: #f7f7ff;
            --muted: #9ca3af;
            --border: rgba(148,163,184,.35);
            --bg1: #111827;
            --bg2: #020617;
            --card: rgba(15,23,42,.9);
            --blue: #3b82f6;
        }

        body {
            font-family: system-ui;
            background: radial-gradient(circle at top,var(--bg1),var(--bg2));
            color: var(--fg);
            min-height: 100vh;
        }

        .wrap {
            max-width: 920px;
            margin: auto;
            padding: 20px
        }

        header {
            border-bottom: 1px solid var(--border);
            background: rgba(2,6,23,.85)
        }

        .nav {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 14px 0
        }

        .logo {
            display: flex;
            gap: 10px;
            align-items: center
        }

        .logo-mark {
            width: 26px;
            height: 26px;
            border-radius: 10px;
            background: conic-gradient(from 160deg,#6366f1,#ec4899,#f97316,#22c55e,#6366f1)
        }

        .btn {
            border-radius: 999px;
            border: 1px solid var(--border);
            padding: 7px 14px;
            font-size: 13px;
            color: var(--fg);
            text-decoration: none;
            background: transparent;
            cursor: pointer
        }

        .btn-blue {
            background: linear-gradient(135deg,var(--blue),#2563eb);
            border: none
        }

        .panel {
            margin-top: 22px;
            background: var(--card);
            border: 1px solid var(--border);
            border-radius: 18px;
            padding: 18px
        }

        .grid {
            display: grid;
            grid-template-columns: 1.2fr .8fr;
            gap: 14px
        }

        @media(max-width:860px) {
            .grid {
                grid-template-columns: 1fr
            }
        }

        .card {
            border: 1px solid rgba(96,165,250,.35);
            background: radial-gradient(circle at top left,rgba(96,165,250,.12),rgba(15,23,42,.95));
            border-radius: 16px;
            padding: 16px
        }

        .label {
            color: var(--muted);
            font-size: 12px;
            margin-top: 10px
        }

        .big {
            font-size: 34px;
            font-weight: 750
        }

        .value {
            margin-top: 3px
        }

        .trust {
            margin-top: 12px;
            font-size: 12px;
            border: 1px solid rgba(96,165,250,.35);
            padding: 8px 10px;
            border-radius: 14px;
            background: rgba(59,130,246,.1)
        }

        .actions {
            display: flex;
            gap: 10px;
            justify-content: flex-end;
            margin-top: 14px
        }
    </style>
</head>

<body>

    <header>
        <div class="wrap nav">
            <div class="logo">
                <div class="logo-mark"></div>
                <strong>GiftBox</strong>
            </div>
            <a class="btn" href="step1-notification.html">Back</a>
        </div>
    </header>

    <main class="wrap">
        <div class="panel">
            <div class="label">Receiver Step 2 / 5 — View gift</div>
            <h2 style="margin:10px 0">🎁 You’ve received a GiftBox</h2>

            <div class="grid">
                <div class="card">

                    <div class="label">Gift amount</div>
                    <div id="amt" class="big">₹—</div>

                    <div class="label">From</div>
                    <div id="from" class="value">—</div>

                    <div class="label">Preferred stock / theme</div>
                    <div id="stock" class="value">—</div>

                    <div class="label">Message</div>
                    <div id="msg" class="value">—</div>

                    <div class="trust">
                        ✅ Funds are reserved by the sender. You will not be charged.
                    </div>

                    <div class="actions">
                        <a class="btn" href="../index.html">Close</a>
                        <a class="btn btn-blue" id="acceptBtn">Accept Gift</a>
                    </div>
                </div>

                <div class="card">
                    <h3>What happens next?</h3>
                    <div style="font-size:13px;color:var(--muted);line-height:1.6">
                        1) Verify phone via OTP<br>
                        2) Broker checks demat<br>
                        3) If needed → complete KYC<br>
                        4) Shares executed by broker
                    </div>
                </div>
            </div>
        </div>
    </main>

    <script>
        (function () {
            const params = new URLSearchParams(location.search);
            const claim = params.get("claim") || "ABCD123";

            const gift = JSON.parse(localStorage.getItem("giftbox_gift") || "{}");
            console.log("Gift payload Step 2:", gift);

            document.getElementById("amt").textContent =
                gift.amount ? "₹" + Number(gift.amount).toLocaleString("en-IN") : "₹—";

            document.getElementById("from").textContent =
                gift.gifterPhone ? "Gift from " + gift.gifterPhone : "Gift from a verified sender";

            document.getElementById("stock").textContent =
                gift.preferredStock || gift.theme || "—";

            document.getElementById("msg").textContent =
                gift.message || gift.occasion || "—";

            document.getElementById("acceptBtn").href =
                "step3-verify.html?claim=" + encodeURIComponent(claim);
        })();
    </script>

</body>
</html>
